---
date: "2021-08-20T11:35:01+06:00"
title: Importing OM from SS3
weight: 2
---

```{r, include=FALSE}
library(openMSE)
```

```{r, include=FALSE}
library(openMSE)

SSdir <- 'G:/Shared drives/BM shared/4. Resources/9_SS_examples/Simple'
```


The `SS2OM` function is used to import an operating model from SS3 output to an `OM` object in `openMSE`. 

The `SS2OM` function requires an argument specifying the location of the SS3 output:

```{r, eval=FALSE}
SSdir <- 'C:/SS_examples/Simple'
```

Then `SS2OM` is used to create the `OM` object from the SS3 output:
```{r}
OM <- SS2OM(SSdir)
```

You will notice the `SS2OM` function first creates an `MOM` object from the SS3 output, and then converts the `MOM` object to an `OM` object. 
If there are multiple fleets in the SS3 model, the aggregate fleet characteristics are calculated for the `OM` object. If there are multiple stocks (e.g., male and female) in the SS3 model, the average stock values are used in the `OM` object. See [Converting MOM to OM](/features-importing-ss3/3-mom2om/) for more details.


See [`?SS2OM`](https://msetool.openmse.com/reference/SS2MOM.html) for details on additional optional arguments for the `SS2OM` function.

## Simulate OM

The historical fishery can be simulated in the usual way:
```{r, eval=FALSE}
Hist <- Simulate(OM)
```

```{r, include=FALSE}
Hist <- Simulate(OM, silent=TRUE)
```


## Compare OM and SS3 Output
The fishery dynamics generated by the `OM` object can be compared to those predicted by the SS3 output with the `plot_SS2OM` function:

```{r, eval=FALSE}
plot_SS2OM(Hist, SSdir)
```

This function generates a HTML report with plots of stock and fishery dynamics (e.g., numbers, biomass, catch) from the `OM`. For example, the OM comparison report for the above example is available [here](/SS2OM/SS2OM.html).

If the SS3 model has multiple stocks with sexual dimorphism, there may be a discrepancy between some of the values predicted by SS3 (e.g., spawning biomass) and those generated by the single-stock OM.

```{r, include=FALSE}
if (!dir.exists("../../../static/SS2OM")) dir.create("../../../static/SS2OM")

plot_SS2OM(Hist, SSdir, dir="../../../static/SS2OM")
```
